
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Roaming Rocks - Oliver Thylmann</title>
  <meta name="author" content="Oliver Thylmann">

  
  <meta name="description" content="(Originally published on infoSync) Holidays are a wonderful invention, particularly if you&#8217;re going somewhere profoundly different to your home &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://thylmann.net/blog/2002/06/06/roaming-rocks">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Oliver Thylmann" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-51635-10']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Oliver Thylmann</a></h1>
  
    <h2>The ramblings of somebody that likes to do that.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:thylmann.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Roaming Rocks</h1>
    
    
      <p class="meta">
        








  


<time datetime="2002-06-06T07:58:00+02:00" pubdate data-updated="true">Jun 6<span>th</span>, 2002</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>(Originally published on infoSync) Holidays are a wonderful invention, particularly if you&#8217;re going somewhere profoundly different to your home country. Living in wet and cold Germany, hot and dry Egypt sounded like a good plan for a vacation. The interesting thing is that the trip was one of those experiences where I noticed how important coverage and roaming really is, particularly in Europe where we&#8217;ve got small countries and people frequently travel across borders - and thus end up on other mobile phone networks. In this article, I&#8217;ll attempt to give an introduction to how roaming works in general, as well as take a closer look at the more complicated issue of GPRS roaming.</p>

<p>&lt;!&#8211; more &#8211;&gt;</p>

<p>Roaming, in short, is about potentially allowing you to use your phone even if your home network is not reachable, be it because you&#8217;re simply outside the coverage of your home carrier, or because you&#8217;re in another country where there isn&#8217;t even a network that is run by your home carrier or the carrier it&#8217;s a part of. The former approach is among others applied by Viag Interkom (now O2), which doesn&#8217;t offer coverage in all of Germany. Viag Interkom users that are outside the carrier&#8217;s coverage area will be able to use the T-Mobile network instead, which amounts to so-called national roaming. The more common perception of roaming is the latter, though, involving roaming across country borders. If you have a contract with Vodafone in the UK and then take a trip to Germany, your phone will log in to an available german GSM network and do a bit of chatting on its own to find out whether it&#8217;s supposed to just pick a network randomly, or use Vodafone networks in foreign countries if available (more on this later).</p>

<p>I have to admit I&#8217;m used to roaming, frequently travelling between Germany and Belgium, where I even get Frequent Flyer miles for every minute I roam the Belgian Mobistar network with my German T-Mobile contract. I need roaming. I wouldn&amp;rsquo;t know what to do without it. Going to Egypt, the phone was one of the tech items I took, next to a PDA, digital camera and 6 GB portable MP3 player. I was kind enough to leave the laptop at home (but brought a portable keyboard for my PDA ;). After we arrived at the hotel, I called home to say that we arrived safely, with a view over the Nile.</p>

<p>The hotel in Cairo actually wasn&amp;rsquo;t that impressive in terms of roaming, seeing as how it was mostly populated by Egyptians who were - understandably - chatting away in Egyptian. The fun part began when we moved on to a 7 day stay at the beach in Hurghada, and this is where it hit.</p>

<p>Imagine a hotel full of tourists, all from different countries and everyone - as far as you can see - has a mobile phone and are using it to its fullest extent. There are people at the pool playing games or sending SMS messages, people walking on the beach talking on their phone, lots of phones on tables and frequent ringing to be heard. Thankfully, the place was huge, so fortunately all the bleeping and ringing wasn&#8217;t too prominent, but I think you get the idea. Mobile phones were everywhere, and they were all from different countries. You heard russian, german, french, italian, dutch, english, and several other languages I&#8217;d break my tongue trying to imitate the pronounciation of.</p>

<p>These people, roaming like crazy on the Egyptian network of their preference (or their home carrier&#8217;s preference) are spending an enormous amount of money, divided amongst both the carrier on whose network the mobile phone is operating and the home carrier.</p>

<p>Imagine being in Egypt, sending an SMS to your friend while he or she is currently in Marocco - and you both have a German contract. Now how cool is that if you really think about it? We are taking it for granted here but really; this rocks.</p>

<p>It not only rocks, it also prompted me to look deeper into how this stuff works. Bear with me, this&#8217;ll be a wild and abbreviation-ridden ride, and particularly so once we get to the part that has to do with GPRS roaming.</p>

<p>For the basic GSM roaming, the invaluable website <a href="http://www.howstuffworks.com/"> title=&quot;How Stuff Works&quot;&gt;How Stuff Works</a> helped a lot in terms of gaining insight - as it always does.</p>

<p>First a few definitions. Each carrier has a so called System Identification Code (SID) - a unique 5-digit number that is assigned to the carrier by the authorative agency in the country. When your phone powers up, it listens for the SIDs that are available over something called a control channel, and compares them to the SID of the home carrier, which is stored in the SIM (Subscriber Identity Model) card of the phone. If the home carrier SID can&#8217;t be found, it will presume that it is roaming. Each carrier also has a, or rather several, Mobile Telephone Switching Offices (MTSO), which handle the base stations and calls. The MTSO keeps track of where your phone is, and negotiates the frequency pair (up and down) for your phone to use if you are placing or getting a call (each base station has several, see our Lexicon section for more info on how GSM works). Once your phone starts talking to an MTSO while roaming, the local MTSO contacts the MTSO in your home network and attempts to find out whether the SID your phone says is the home SID matches the rest of your information to find out whether you really belong in that far away network. Your home system then tells the local MTSO that everything is fine (if you&#8217;re allowed to roam with your contract) and the local MTSO proceeds with its duties, handling assignment to a cell within seconds. Happy roaming.</p>

<p>While this seems simple enough (Editor&#8217;s note: Yeah, right.), things grow quite a bit more complicated when we move on to using GPRS in a foreign network. This is also the reason for why carriers are quick to brag about their GPRS roaming capabilities, an area where Vodafone currently is in the lead due to their numerous local networks.</p>

<p>GPRS is an overlay to GSM networks and needs a bit more hardware, namely a Gateway GPRS Service Node (GGSN) and a Servicing GPRS Service Node (SGSN), present for routing purposes. The GGSN works as a gateway between the GPRS network and the underlying IP (or similar) network and it connects to other GPRS networks for roaming purposes. Once you attempt to access GPRS in a foreign network, it needs to conduct what is called a &#8216;GPRS attach&#8217; to the local SGSN. However, as you&#8217;re not in your own PLMN (Public Land Mobile Network), the SGSN talks to the HLR (Home Location Register) in the PLMN of your home carrier to validate you and see whether you are allowed to roam or not (now read that again ;). From here, there are two scenarios.</p>

<p>Scenario 1: Your phone (called Mobile Station, or MS for short) talks to the SGSN in the visited network (also called VSGSN) and then tries to connect to the GGSN in your home network (also called HGGSN) with signaling going over an Inter GPRS Backbone. For this backbone, a method gaining ground is the so called GPRS Roaming eXchange (GRX) which, in the above case, will need to handle such things as address management between the networks because the address assigned to your MS will be from your home network and needs to be routed in your visited network (think mail forwarding). The GRX connects to two (or more) networks and takes care of routing, interconnection, IP services, network operation and maintenance. In voice connections, this takes place over standard fixed lines.</p>

<p>Scenario 2: You are registering with the VSGSN and then with the VGGSN. In this case your address is local, but the network will need to somehow authenticate you to the GGSN and let you allow to use all your services with your standard settings, which might or might not be available.</p>

<p>Now we move on (yes, there&#8217;s more :) to another fun piece of the puzzle, which is the so-callled APN, or Access Point Name. The APN is made up of things the user entered, the user&amp;rsquo;s subscription record and some defaults by the SGSN. The VSGSN will need to somehow get you an address of a GGSN to connect you to, which, just as a reminder, takes care of your connection. At this time our two senarios come into play again.</p>

<p>In scenario one, the VSGSN talks to the HPLMN, which understands your APN and can provide the VSGSN with the address of the HGGSN (the GGSN in your home network). It might be that the VSGSN tries to talk to the VPLMN to get you the VGGSN IP address to connect to, again with the help of your APN, but the VPLMN just doesn&amp;rsquo;t know what to do with your APN since the correct information simply isn&#8217;t there. This would then be where the VSGSN connects to the HPLMN - see above.</p>

<p>In scenario two, the VPLMN is able to understand your APN and connects you to a VGGSN.</p>

<p>The APN still provides for some interesting options such as forcing the SGSN to use the HGGSN, but to fully explain this as well would be too in-depth for this general introduction, so I&#8217;ll leave it at that.</p>

<p>Now, if you did not fully understand everything you just read, I suggest you give it another go - or more. You&#8217;ll be happy to know that I myself had to read through it numerous times and talk to several people to get it all sorted out, so it&#8217;s in no way an easy matter to delve into.</p>

<p>As studies have shown, up to 80% of roaming calls are placed to the home country, which in relation to GPRS means that you want the services that you are used to from your home network to be available in the network you are roaming in. For this, the GRX approach is crucial because it will let several networks inter-connect to allow roaming users to use their local services (Scenario 1).</p>

<p>To end this with a slightly amusing anecdote, there was a huge catamaran motorboat at the pier next to the hotel where we stayed. It was lovely, and from what I was told it belonged to the founder of Egy Click GSM, one of the local GSM networks in Egypt. Obviously, there&#8217;s a bit of money to be made in the carrier business, and with roaming being responsible for 15-20 % of some carriers&#8217; revenue I&#8217;ll (not) go out on a limb and guess GPRS roaming is a high priority to the owner of that catamaran as well. I for one volunteer to babysit his boat while he&#8217;s working on it.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Oliver Thylmann</span></span>

      








  


<time datetime="2002-06-06T07:58:00+02:00" pubdate data-updated="true">Jun 6<span>th</span>, 2002</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/wireless/'>Wireless</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://thylmann.net/blog/2002/06/06/roaming-rocks/" data-via="othylmann" data-counturl="http://thylmann.net/blog/2002/06/06/roaming-rocks/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2002/06/05/amazing-wtc-story/" title="Previous Post: Amazing WTC Story">&laquo; Amazing WTC Story</a>
      
      
        <a class="basic-alignment right" href="/blog/2002/06/06/clie-peg-nr70v-slash-e-selling-well/" title="Next Post: Clie PEG-NR70V/E Selling Well">Clie PEG-NR70V/E Selling Well &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/06/05/the-story-of-bitcoin/">The Story of Bitcoin</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/01/07/last-post-in-may/">Last post in May</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/05/24/the-privacy-concern-zuckerberg-did-not-answer/">The privacy concern Zuckerberg did not answer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/05/23/android-killed-the-iphone-long-live-the-iphone/">Android killed the iPhone - Long live the iPhone</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/02/20/the-solutions-for-the-plain-text-nut/">The solutions for the plain text nut</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/othylmann">@othylmann</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'othylmann',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("othylmann", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/othylmann" class="twitter-follow-button" data-show-count="true">Follow @othylmann</a>
  
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll...</ul>
  <p><a href="http://pinboard.in/u:othylmann">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "othylmann"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>




  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Oliver Thylmann -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
