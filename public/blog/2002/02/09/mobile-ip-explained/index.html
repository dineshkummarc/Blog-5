
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mobile IP explained - Oliver Thylmann</title>
  <meta name="author" content="Oliver Thylmann">

  
  <meta name="description" content="(Originally published on infoSync) First of all, we need to take a look at how all this IP mumbo jumbo really works - or the basics of it, at least. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://thylmann.net/blog/2002/02/09/mobile-ip-explained">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Oliver Thylmann" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-51635-10']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Oliver Thylmann</a></h1>
  
    <h2>The ramblings of somebody that likes to do that.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:thylmann.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Mobile IP Explained</h1>
    
    
      <p class="meta">
        








  


<time datetime="2002-02-09T08:14:00+01:00" pubdate data-updated="true">Feb 9<span>th</span>, 2002</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>(Originally published on infoSync) First of all, we need to take a look at how all this IP mumbo jumbo really works - or the basics of it, at least. IP stands for Internet Protocol, and the interesting part for us is the general routing of data packets it&#8217;s responsible for. When I send you a direct instant message (e.g. ICQ) from my computer, this message is instantly split up into several data packets which are numbered, and sent via my network card (or modem) into the network I&#8217;m connected to. Just for argument&#8217;s sake, we&#8217;ll now presume you are sitting far far away in another country.</p>

<p>&lt;!&#8211; more &#8211;&gt;</p>

<p>What happens next is that my packet gets sent to my so-called default gateway, whose address was provided to me (automatically) by my network provider. That computer looks in its routing table to see where to send all the packets, and then does just that. Each and every one of those packets include your address, and suddenly - the packet arrives somewhere where a router/switch knows roughly where that address is located, and all the packets are sent in that direction. Then, another one of these boxes responsible for routing the packets knows the exact network that your computer is in, sends the packets there for your computer to get them. Finally, the packets are put back together and the message pops up on your screen - and everyone&#8217;s happy.</p>

<p>Now, lets change that scenario slightly. Let&#8217;s say you&#8217;re dialed in via your W-CDMA capable laptop, sitting on a train from Cologne (Germany) to Brussels (Belgium). When you entered the train and sat down, you initiated your network connection - and right now, among other things, you have established a secure connection to a web based conferencing system, are online with multiple instant messaging services, and have initiated a gaming session on Everquest. You&#8217;re a busy guy, or girl for that matter.</p>

<p>Under closer scrutiny, it suddenly becomes clear that many or all of these applications need a continuous connection to the network. Some probably save your current IP address as part of their methods of keeping track of you, and start complaining once that address changes.</p>

<p>Our second look, which is what will bring you the a-ha experience, goes to what part your mobile phone plays. While you are moving along, your phone keeps up a connection to at least one WCDMA base station, and when you&#8217;ve strayed too far changes to another base station that&#8217;s closer by - which is where the problem arises. It might well be that the traffic sent and received from your second base station is routed totally different than from your first one, possibly because your carrier has different backbone systems throughout the country. If you move over the border, you suddenly find yourself connected to one of the carriers that your carrier has a roaming agreement with, so at the very latest things will really change at this point (different carrier, different network, different backbone, different country, different whateveryoucanthinkof).</p>

<p>Right about here is where everything suddenly becomes a major pain in the emm&#8230; butt, because if they want to keep up your connection, then you will absolutely have to use the same IP address the entire time. The problem is that if packets are sent back to your IP address, then under normal circumstances they would end up at your first base station. You are not connected to that one anymore though, are you? This is exactly where MobileIP comes in. The idea is to have a system in place that will let you carry your IP address along wherever you go while you stay connected.</p>

<p>To learn more on how this works, and to be sure to not say anything that is completely rubbish, I got in touch with an engineer at Nokia who also has a bunch of people sitting around him which have written some of the RFCs (Request for Comment), used in the development of several of today&#8217;s Internet standards in relation to MobileIP. If there&#8217;s anyone who could provide me with the right answers, he certainly qualifies. He was kind enough to answer some questions for me, and here are the answers straight from the horses&#8217; mouth.</p>

<p>Oliver: Could you please first introduce yourself and tell us a bit about what you do at Nokia?</p>

<p>T.J. Kniveton: Sure, Oliver. My name is T.J. Kniveton, and I am a senior research engineer at Nokia in Mountain View, California. We have a small research group here filled with creative experts who are focused on forming new mobility technologies related to Mobile IPv6.</p>

<p>Oliver: The IETF Mobile IP Working Group seems to be behind all this. How many people or companies are those? Will it be a world wide standard to attack the discussed problem?</p>

<p>T.J. Kniveton: The Internet Engineering Task Force (IETF) is a unique organization, which is composed of a very diverse set of people. It is engineering-driven, and made up of a number of focus areas like Security, Routing, and Applications, with many individual working groups (WGs) tackling specific issues. There is no membership criterion to the IETF, per se. Any interested individual can post messages on WG mailing lists or show up at one of the meetings and contribute their engineering ideas to improving the future of the Internet. In this sense, it&#8217;s very democratic.</p>

<p>Within the IETF, mobility has received a lot of attention lately. The Mobile IP WG meetings are filled with hundreds of people from companies and universities all over the world. It is very representative of the organizations that make up the Internet itself, and the ideas are so diverse and plentiful that it may be challenging for the WG chairs to incorporate everyone&#8217;s ideas.</p>

<p>The Mobile IP WG has a number of drafts and RFCs which make up the core of its work. These are loosely organized around Mobile IPv4, and Mobile IPv6, which are two standards for enabling mobility in the way you described above. There are dozens of related drafts that describe optimizations and extensions to these protocols for enabling all different types of scenarios.</p>

<p>The great thing about the IETF is that instead of just writing specifications and unleashing them on the world, the engineers that make these recommendations also implement and test their ideas. So before a draft can become an RFC, it has already been tested and interoperability experiments have been done, which gives us more confidence that it is a realistic idea and will work in the real world. The IETF&#8217;s motto is &quot;Rough consensus and running code,&quot; and you would be surprised how much progress can be made on a technology when the top engineers from all sorts of companies, organizations and schools, put their minds together to hammer out a solution to the Internet&#8217;s hardest problems.</p>

<p>Oliver: Can you explain in a bit more detailed way, beyond my simple introduction, how MobileIP works, as of currently?</p>

<p>T.J. Kniveton: Actually, Oliver, I think you did a good job of summing up the basic concepts. Like I said, there are two protocols to consider here, MIPv4 and MIPv6. Just like IPv4, MIPv4 has been around for a while, and is well into the standards track process. MIPv6 is also a mature document, having gone through 15 revisions so far (!) and the WG is in the final stages of working out security issues related to address ownership.</p>

<p>To illustrate the address ownership issue, imagine if you were on your train between Cologne and Brussels, busily ICQing your friends and maybe even having a voice-over-IP call to your special someone. Meanwhile, I am sitting in Helsinki, a bit bored, and decide that I want to steal your active connections. After looking up your IP address, I then send a packet to your correspondents&#8217; computers, telling them that your attachment point to the network (we call it a Care-Of Address), has actually moved to the IP address of my laptop. All of the sudden, your ICQ sessions go dead, and meanwhile I am listening to your girlfriend whisper sweet nothings over the voice chat which I have stolen.</p>

<p>Well, that would obviously be a bad situation, and besides the frustration of losing all the traffic which has been diverted, you would want to avoid getting in hot water for hanging up on your friends. So there has to be a way for you to prove that you really own the IP address that you are registering at all the base stations between Cologne and Brussels. Even if these access points have never heard of your cell phone before, they have to have a way to trust that it&#8217;s really you that&#8217;s moving around. In today&#8217;s fixed Internet, this is not much of a problem - if a packet destined to you shows up on your network, it&#8217;s pretty much assumed that you have the right to receive it.</p>

<p>But when devices start moving around, and bringing their little corner of the Internet with them, things get a bit more complicated, and we have to be sure that you&#8217;re really authorized to carry that address along with you. So that&#8217;s what we&#8217;ve been working on lately. Once those last few security issues are solved, the draft will be pretty much ready to release out into the wild!</p>

<p>Perhaps the only other technical comments I would add are simply about terminology, so that your readers will understand the parlance when reading our specifications. In Mobile IP, we call your device (whether it is a laptop, mobile phone, or any other IP-capable communicator) a Mobile Node (MN). The MN has a Home Address (HA), which is the permanent address it uses to communicate with the rest of the world. When the MN roams to a foreign network, it gets a Care-Of Address (CoA), which is a temporary IP address used for sending traffic while at that part of the network. The CoA either comes from a Foreign Agent (in MIPv4), or is assigned through stateless address autoconfiguration (as in MIPv6).</p>

<p>Once the MN has a CoA, it then sends a Binding Update (BU) to its HA and all of the Correspondent Nodes (CNs) it is communicating with, informing them to forward all traffic to the CoA until further notice. At that point, the HA begins intercepting any packets that show up on the home network for the MN&#8217;s home address, and tunneling them to the MN at its current CoA. That&#8217;s it- pretty simple, huh? :-)</p>

<p>Oliver: Are there already any live systems that are running something suggested by the Mobile IP WG? Telia, for example, recently announced that they have GPRS roaming operational, but I presume this has nothing much to do with Mobile IP, which goes beyond that.</p>

<p>T.J. Kniveton: Yes, actually there has been quite a bit of commercial interest in Mobile IP. Some of the companies that have been named on the Mobile IP mailing list as having deployments are Cisco, IPunplugged, Netseal, Birdstep, Nextel, Sprint, Lifix, and this is just a partial list with many more companies involved. We also have a number of commercial projects here at Nokia that are using Mobile IP.</p>

<p>In research labs, there are very many Mobile IP implementations, including our own MIPv6 prototype with many extensions such as Fast Handovers, Smooth Handovers, Buffering, Context Transfer, Regional Registration, and GSM/SIM Authentication. I&#8217;ll let you imagine what all of those things do..</p>

<p>Oliver: If all those mobile devices have their IP address, will IPv4 work at any time or will there be some faked solution on the way to IPv6? This seems to be particularly crucial with things like MMS which requires, as of my current understanding, a fixed IP address to work reliably. (Note: IPv4 is the old IP Address standard that makes X addresses available for use while IPv6 has a pool of Y addresses)</p>

<p>T.J. Kniveton: Wow, this could turn into a whole other interview about IPv6! Well, let&#8217;s just say this: IPv4 addresses are rapidly being used up, and most of them are allocated to the U.S. and Europe. So, there is a lot of interest in the rest of the world for moving to IPv6. For instance, China has only been allocated about 9 million IPv4 addresses, which is a very small amount considering their population. It is clear that IPv4 can not serve everyone indefinitely. Japan has been a real leader in embracing IPv6, and their government is mandating companies to start using IPv6.</p>

<p>We believe that it is important for mobile devices to be reachable on the Internet, in the same way that your phone can be dialed from anywhere in the world from any other phone, simply by punching in your number, and your desktop computer is probably accessible from any other point on the Internet, at least while you are connected. For true global reachability to happen, it really looks like IPv6 is an important technology. The expanded address space of IPv6 allows everyone in the world the opportunity to have abundant addresses for all their mobile (and fixed) devices. There are some other properties of IPv6 that make it really a great evolutionary step past today&#8217;s IPv4 networks. And I guess I should insert a plug here for Nokia, since we have some of the foremost experts in IPv6 on our campuses as well.</p>

<p>Oliver: Mobile IP is supposed to work across media types. Does that mean technologies like UMTS and EDGE, which are supposed to be integrated into one seamless network in the long run anyway, or also GPRS and 802.11b? Does there need to be a relationship between the providers of those services in any case, or not?</p>

<p>T.J. Kniveton: This is a really hot topic right now, and we are looking at it carefully. It is our goal to allow seamless mobility between all different types of access technologies. In the end, that is what&#8217;s going to make the services on these networks most useful. At this very moment, carriers are spending a lot of time thinking about how they can provide all of these access methods in an integrated fashion so that they are straightforward and simple for you, their customer. Without getting into the technical details, I would just say that Mobile IP should prove very important for the model of how the Internet and mobile services will be delivered in the future.</p>

<p>You may not have thought about cell phone companies and providers being very interested in the Internet before. But with the importance of IPv6 in tomorrow&#8217;s mobility landscape, a tremendous amount of pioneering work is happening today in the research labs and product development workshops of the mobile phone vendors and service providers.</p>

<p>Oliver: Nowadays, when I move across a border and my carrier changes, my normal voice calls are dropped. Is that just a problem of today, or will Mobile IP not work across different carriers either?</p>

<p>T.J. Kniveton: Of course it will! :-)</p>

<p>Oliver: Thanks a lot for answering my questions in such detail, T.J. For those of our readers who want to really dig down on Mobile IP I would suggest going <a href="http://www.ietf.org/html.charters/mobileip-charter.html">here</a> for a lot of RFCs on different subjects.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Oliver Thylmann</span></span>

      








  


<time datetime="2002-02-09T08:14:00+01:00" pubdate data-updated="true">Feb 9<span>th</span>, 2002</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/wireless/'>Wireless</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://thylmann.net/blog/2002/02/09/mobile-ip-explained/" data-via="othylmann" data-counturl="http://thylmann.net/blog/2002/02/09/mobile-ip-explained/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2002/02/02/clash-of-the-titans/" title="Previous Post: Clash of the Titans">&laquo; Clash of the Titans</a>
      
      
        <a class="basic-alignment right" href="/blog/2002/02/25/getting-dsl/" title="Next Post: Getting DSL">Getting DSL &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/06/05/the-story-of-bitcoin/">The Story of Bitcoin</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/01/07/last-post-in-may/">Last post in May</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/05/24/the-privacy-concern-zuckerberg-did-not-answer/">The privacy concern Zuckerberg did not answer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/05/23/android-killed-the-iphone-long-live-the-iphone/">Android killed the iPhone - Long live the iPhone</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/02/20/the-solutions-for-the-plain-text-nut/">The solutions for the plain text nut</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/othylmann">@othylmann</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'othylmann',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("othylmann", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/othylmann" class="twitter-follow-button" data-show-count="true">Follow @othylmann</a>
  
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll...</ul>
  <p><a href="http://pinboard.in/u:othylmann">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "othylmann"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>




  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Oliver Thylmann -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
